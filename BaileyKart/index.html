<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HadleeKart - Racing Adventure Season 2</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="1000" height="700"></canvas>
        
        <!-- UI Overlays -->
        <div id="ui">
            <!-- Title Screen -->
            <div id="titleScreen" class="screen active">
                <div class="title-content">
                    <h1 class="racing-title">HadleeKart</h1>
                    <h2 class="subtitle">Season 2 - Racing Adventure</h2>
                    <p class="game-description">
                        Race against 7 AI opponents in thrilling kart racing action!<br>
                        üèéÔ∏è Use power-ups strategically ‚Ä¢ üçÑ Speed boost mushrooms<br>
                        üçå Banana peels ‚Ä¢ üî¥ Homing red shells ‚Ä¢ üîµ Devastating blue shells ‚Ä¢ üí£ Demolition bombs ‚Ä¢ ‚ö° Lightning strikes<br>
                        Complete 3 laps to win the race!
                    </p>
                    <div class="controls-info">
                        <p><strong>Controls:</strong></p>
                        <p>W/A/S/D or Arrow Keys to drive</p>
                        <p>SHIFT to drift ‚Ä¢ SPACE to use power-up ‚Ä¢ G to glide</p>
                    </div>
                    <button id="startRace" class="racing-button">SELECT TRACK!</button>
                    <button id="kartCustomization" class="racing-button" style="margin-top: 15px;">CUSTOMIZE KART</button>
                    <button id="storyMode" class="racing-button" style="margin-top: 15px;">STORY MODE</button>
                    <button id="showSettings" class="racing-button" style="margin-top: 15px;">SETTINGS</button>
                    <div class="beta-modes" style="margin-top: 25px; border-top: 2px solid #ff6b6b; padding-top: 15px;">
                        <h3 style="color: #ff6b6b; margin: 0 0 10px 0;">üöß BETA MODES üöß</h3>
                        <button id="timeTrialMode" class="racing-button beta-button" style="margin-top: 10px;">TIME TRIAL [BETA]</button>
                        <button id="enduranceMode" class="racing-button beta-button" style="margin-top: 10px;">ENDURANCE RACE [BETA]</button>
                        <button id="eliminationMode" class="racing-button beta-button" style="margin-top: 10px;">ELIMINATION MODE [BETA]</button>
                    </div>
                </div>
            </div>
            
            <!-- Story Mode Screen -->
            <div id="storyModeScreen" class="screen">
                <div class="story-content">
                    <h1 class="racing-title">Story Mode</h1>
                    <h2 class="story-subtitle">Stewart's Season 2 Journey</h2>
                    <div class="story-intro">
                        <p>Join Stewart in Season 2 as he faces his greatest challenge yet - racing against the mysterious and ruthless 
                        Juliette, who has taken over the racing circuit with her advanced tactics and cunning strategies. Stewart must 
                        master new tracks and discover hidden racing techniques to reclaim his title and protect the racing community from Juliette's schemes. 
                        <strong>An epic adventure of rivalry, determination, and triumph.</strong></p>
                    </div>
                    <div class="story-races">
                        <div class="story-race" data-race="1">
                            <h3>Race 1: The Return</h3>
                            <p>Stewart returns to find the racing circuit under Juliette's control. Time to reclaim what's rightfully his.</p>
                            <button class="story-race-button">START RACE</button>
                        </div>
                        <div class="story-race locked" data-race="2">
                            <h3>Race 2: Juliette's Challenge</h3>
                            <p>The mysterious antagonist reveals herself and challenges Stewart to a direct confrontation...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="3">
                            <h3>Race 3: Underground Circuits</h3>
                            <p>Stewart discovers Juliette's secret underground racing network and must infiltrate it...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="4">
                            <h3>Race 4: The Trap</h3>
                            <p>Juliette lures Stewart into a dangerous race designed to end his career once and for all...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="5">
                            <h3>Race 5: Breaking Point</h3>
                            <p>Stewart pushes his limits in a brutal desert race where only survival matters...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="6">
                            <h3>Race 6: Allies and Enemies</h3>
                            <p>Stewart must choose his allies carefully as Juliette turns the racing community against him...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="7">
                            <h3>Race 7: The Final Showdown</h3>
                            <p>Stewart faces Juliette in an epic championship race that will determine the fate of racing...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="8">
                            <h3>Race 8: Victory and Redemption</h3>
                            <p>The aftermath of Stewart's triumph and the rebuilding of the racing community...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                    </div>
                    <button id="backToTitleFromStory" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Kart Customization Screen -->
            <div id="kartCustomizationScreen" class="screen">
                <div class="customization-content">
                    <h1 class="racing-title">Kart Customization</h1>
                    <h2 class="story-subtitle">Choose Your Racing Style</h2>
                    <div class="customization-intro">
                        <p>Select a custom kart design that reflects your personality! 
                        Each design is purely cosmetic but adds unique visual flair to your racing experience.</p>
                    </div>
                    <div class="kart-designs">
                        <div class="kart-design selected" data-design="classic">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Classic Racer</h3>
                            <p>The traditional racing kart design</p>
                            <button class="design-button">SELECTED</button>
                        </div>
                        <div class="kart-design" data-design="furry">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Furry Friend</h3>
                            <p>Cute kart with ears, tail, and adorable features</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="anime">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Kawaii Racer</h3>
                            <p>Anime-inspired design with big eyes and heart decorations</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="cyberpunk">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Cyber Runner</h3>
                            <p>Futuristic design with neon effects and circuit patterns</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="magical">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Magic Kart</h3>
                            <p>Mystical design with sparkles and magical runes</p>
                            <button class="design-button">SELECT</button>
                        </div>
                    </div>
                    <button id="backToTitleFromCustomization" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Settings Screen -->
            <div id="settingsScreen" class="screen">
                <div class="settings-content">
                    <h1 class="racing-title">Game Settings</h1>
                    <h2 class="story-subtitle">Customize Your Racing Experience</h2>
                    
                    <div class="settings-sections">
                        <!-- Display Settings -->
                        <div class="settings-section">
                            <h3>üñ•Ô∏è Display Options</h3>
                            <div class="setting-item">
                                <label for="screenFit">Screen Fit:</label>
                                <select id="screenFit" class="setting-select">
                                    <option value="auto">Auto Fit</option>
                                    <option value="stretch">Stretch to Fill</option>
                                    <option value="letterbox">Letterbox (Maintain Aspect)</option>
                                    <option value="crop">Crop to Fit</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label for="uiScale">UI Scale:</label>
                                <select id="uiScale" class="setting-select">
                                    <option value="0.8">Small (80%)</option>
                                    <option value="1.0" selected>Normal (100%)</option>
                                    <option value="1.2">Large (120%)</option>
                                    <option value="1.5">Extra Large (150%)</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- AI Settings -->
                        <div class="settings-section">
                            <h3>ü§ñ AI Opponents</h3>
                            <div class="setting-item">
                                <label for="aiDifficulty">AI Difficulty:</label>
                                <input type="range" id="aiDifficulty" min="0.5" max="2.0" step="0.1" value="1.0" class="setting-slider">
                                <span id="aiDifficultyValue">Normal (1.0x)</span>
                            </div>
                            <div class="setting-item">
                                <label for="aiAggression">AI Aggression:</label>
                                <select id="aiAggression" class="setting-select">
                                    <option value="defensive">Defensive - Fair Play</option>
                                    <option value="normal" selected>Normal - Balanced</option>
                                    <option value="aggressive">Aggressive - Competitive</option>
                                    <option value="ruthless">Ruthless - No Mercy</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label for="aiPersonality">AI Personality Mix:</label>
                                <select id="aiPersonality" class="setting-select">
                                    <option value="varied" selected>Varied - Different Styles</option>
                                    <option value="cautious">All Cautious</option>
                                    <option value="aggressive">All Aggressive</option>
                                    <option value="skilled">All Skilled</option>
                                    <option value="reckless">All Reckless</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Gameplay Assistance -->
                        <div class="settings-section">
                            <h3>üß≠ Racing Assistance</h3>
                            <div class="setting-item">
                                <label for="guideMeArrows">Show "Guide Me" Arrows:</label>
                                <input type="checkbox" id="guideMeArrows" checked class="setting-checkbox">
                                <span class="checkbox-label">Display directional arrows on complex track sections</span>
                            </div>
                            <div class="setting-item">
                                <label for="racingLine">Show Racing Line:</label>
                                <input type="checkbox" id="racingLine" class="setting-checkbox">
                                <span class="checkbox-label">Display optimal racing path (beginner mode)</span>
                            </div>
                            <div class="setting-item">
                                <label for="minimapSize">Minimap Size:</label>
                                <select id="minimapSize" class="setting-select">
                                    <option value="small">Small</option>
                                    <option value="normal" selected>Normal</option>
                                    <option value="large">Large</option>
                                    <option value="hidden">Hidden</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Accessibility Settings -->
                        <div class="settings-section">
                            <h3>‚ôø Accessibility</h3>
                            <div class="setting-item">
                                <label for="colorblindMode">Colorblind Support:</label>
                                <select id="colorblindMode" class="setting-select">
                                    <option value="none" selected>None</option>
                                    <option value="protanopia">Protanopia (Red-Green)</option>
                                    <option value="deuteranopia">Deuteranopia (Red-Green)</option>
                                    <option value="tritanopia">Tritanopia (Blue-Yellow)</option>
                                    <option value="monochrome">Monochrome</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label for="highContrast">High Contrast Mode:</label>
                                <input type="checkbox" id="highContrast" class="setting-checkbox">
                                <span class="checkbox-label">Increase visual contrast for better visibility</span>
                            </div>
                            <div class="setting-item">
                                <label for="reducedMotion">Reduce Motion Effects:</label>
                                <input type="checkbox" id="reducedMotion" class="setting-checkbox">
                                <span class="checkbox-label">Minimize particle effects and screen shake</span>
                            </div>
                        </div>
                        
                        <!-- Audio Settings -->
                        <div class="settings-section">
                            <h3>üîä Audio</h3>
                            <div class="setting-item">
                                <label for="masterVolume">Master Volume:</label>
                                <input type="range" id="masterVolume" min="0" max="100" value="70" class="setting-slider">
                                <span id="masterVolumeValue">70%</span>
                            </div>
                            <div class="setting-item">
                                <label for="sfxVolume">Sound Effects:</label>
                                <input type="range" id="sfxVolume" min="0" max="100" value="80" class="setting-slider">
                                <span id="sfxVolumeValue">80%</span>
                            </div>
                            <div class="setting-item">
                                <label for="musicVolume">Music Volume:</label>
                                <input type="range" id="musicVolume" min="0" max="100" value="60" class="setting-slider">
                                <span id="musicVolumeValue">60%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-buttons">
                        <button id="resetSettings" class="racing-button secondary">Reset to Defaults</button>
                        <button id="backToTitleFromSettings" class="racing-button">‚Üê BACK TO MENU</button>
                    </div>
                </div>
            </div>
            
            <!-- Story Dialog Screen -->
            <div id="storyDialog" class="dialog hidden">
                <div class="dialog-content story-dialog-content">
                    <h2 id="storyDialogTitle">Race Story</h2>
                    <div id="storyDialogText">
                        <p>Story content will appear here...</p>
                    </div>
                    <button id="continueStory" class="racing-button">CONTINUE</button>
                    <button id="skipStory" class="racing-button secondary">SKIP</button>
                </div>
            </div>
            
            <!-- Track Selection Screen -->
            <div id="trackSelection" class="screen">
                <div class="track-selection-content">
                    <h1 class="racing-title">Choose Your Track</h1>
                    <div class="track-grid">
                        <div class="track-option" data-track="classic">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Classic Oval</h3>
                            <p>Traditional racing circuit with smooth curves</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="figure8">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Figure-8 Chaos</h3>
                            <p>Challenging intersecting loops with excitement</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="mountain">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Mountain Circuit</h3>
                            <p>Winding mountain path with tight hairpins</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="city">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>City Streets</h3>
                            <p>Urban racing through downtown blocks</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="desert">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Desert Dunes</h3>
                            <p>Sandy curves through scorching desert terrain</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="forest">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Forest Trail</h3>
                            <p>Winding path through dense woodland</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="speedway">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Speed Speedway</h3>
                            <p>High-speed oval with banked turns</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="twisted">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Twisted Circuit</h3>
                            <p>Complex track with multiple loops and turns</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                    </div>
                    <div class="lore-section">
                        <h3>üèÅ Stewart's Racing Legend - Season 2</h3>
                        <p>After dominating Season 1, champion racer Stewart faces his greatest challenge yet. 
                        The mysterious Juliette has emerged as a formidable antagonist, using cunning tactics and 
                        advanced racing techniques to take control of the racing circuit. Stewart must master new 
                        skills and forge new alliances to reclaim his title and protect the racing community from 
                        Juliette's schemes. The stage is set for an epic showdown!</p>
                    </div>
                    <button id="backToTitle" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Game Screen -->
            <div id="gameScreen" class="screen">
                <!-- Racing HUD -->
                <div id="racingHUD">
                    <div id="positionDisplay">
                        <span class="hud-label">POSITION:</span>
                        <span id="currentPosition" class="position-large">1</span>
                        <span class="position-total">/8</span>
                    </div>
                    <div id="lapDisplay">
                        <span class="hud-label">LAP:</span>
                        <span id="currentLap">1</span> / <span id="totalLaps">3</span>
                    </div>
                    <div id="speedDisplay">
                        <span class="hud-label">SPEED:</span>
                        <span id="currentSpeed">0</span> <span class="speed-unit">mph</span>
                    </div>
                    <div id="powerUpDisplay">
                        <span class="hud-label">POWER-UP:</span>
                        <div id="powerUpIcon" class="powerup-empty">NONE</div>
                    </div>
                </div>

                <!-- Lap Notification -->
                <div id="lapNotification" class="lap-notification hidden">
                    <div class="lap-notification-content">
                        <h3 id="lapNotificationTitle">LAP COMPLETED!</h3>
                        <p id="lapNotificationTime">Lap Time: 1:23.45</p>
                    </div>
                </div>

                <!-- Minimap -->
                <div id="minimap">
                    <canvas id="minimapCanvas" width="150" height="150"></canvas>
                </div>
                
                <!-- Race Complete Dialog -->
                <div id="raceComplete" class="dialog hidden">
                    <div class="dialog-content">
                        <h2 id="raceResultTitle">Race Complete!</h2>
                        <p id="raceResultText">Congratulations on finishing the race!</p>
                        <div id="finalStats">
                            <p>Final Position: <span id="finalPosition">1st</span></p>
                            <p>Best Lap Time: <span id="bestLapTime">1:23.45</span></p>
                        </div>
                        <button id="restartRace" class="racing-button">Race Again</button>
                        <button id="backToMenu" class="racing-button">Back to Menu</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Audio -->
    <audio id="engineSound" preload="auto" loop>
        <source src="audio/engine.mp3" type="audio/mpeg">
    </audio>
    <audio id="powerUpSound" preload="auto">
        <source src="audio/powerup.mp3" type="audio/mpeg">
    </audio>
    <audio id="collisionSound" preload="auto">
        <source src="audio/collision.mp3" type="audio/mpeg">
    </audio>
    <audio id="driftSound" preload="auto">
        <source src="audio/drift.mp3" type="audio/mpeg">
    </audio>
    <audio id="lightningSound" preload="auto">
        <source src="audio/lightning.mp3" type="audio/mpeg">
    </audio>
    
    <script src="game.js"></script>
</body>
</html>