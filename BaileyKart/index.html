<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrazyKart - Racing Adventure Season 2</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="1000" height="700"></canvas>
        
        <!-- UI Overlays -->
        <div id="ui">
            <!-- Title Screen -->
            <div id="titleScreen" class="screen active">
                <div class="title-content">
                    <h1 class="racing-title">CrazyKart</h1>
                    <h2 class="subtitle">Season 2 - Racing Adventure</h2>
                    <p class="game-description">
                        Race against 7 AI opponents in thrilling kart racing action!<br>
                        üèéÔ∏è Use power-ups strategically ‚Ä¢ üçÑ Speed boost mushrooms<br>
                        üçå Banana peels ‚Ä¢ üî¥ Homing red shells ‚Ä¢ üîµ Devastating blue shells ‚Ä¢ üí£ Demolition bombs ‚Ä¢ ‚ö° Lightning strikes<br>
                        Complete 3 laps to win the race!
                    </p>
                    <div class="controls-info">
                        <p><strong>Controls:</strong></p>
                        <p>W/A/S/D or Arrow Keys to drive</p>
                        <p>SHIFT to drift ‚Ä¢ SPACE to use power-up</p>
                    </div>
                    <button id="startRace" class="racing-button">SELECT TRACK!</button>
                    <button id="kartCustomization" class="racing-button" style="margin-top: 15px;">CUSTOMIZE KART</button>
                    <button id="storyMode" class="racing-button" style="margin-top: 15px;">STORY MODE</button>
                    <button id="settingsMenu" class="racing-button" style="margin-top: 15px;">‚öôÔ∏è SETTINGS</button>
                    <div class="beta-modes" style="margin-top: 25px; border-top: 2px solid #ff6b6b; padding-top: 15px;">
                        <h3 style="color: #ff6b6b; margin: 0 0 10px 0;">üöß BETA MODES üöß</h3>
                        <button id="timeTrialMode" class="racing-button beta-button" style="margin-top: 10px;">TIME TRIAL [BETA]</button>
                        <button id="enduranceMode" class="racing-button beta-button" style="margin-top: 10px;">ENDURANCE RACE [BETA]</button>
                        <button id="eliminationMode" class="racing-button beta-button" style="margin-top: 10px;">ELIMINATION MODE [BETA]</button>
                    </div>
                </div>
            </div>
            
            <!-- Story Mode Screen -->
            <div id="storyModeScreen" class="screen">
                <div class="story-content">
                    <h1 class="racing-title">Story Mode</h1>
                    <h2 class="story-subtitle">Stewart's Season 2 Journey</h2>
                    <div class="story-intro">
                        <p>Join Stewart in Season 2 as he faces his greatest challenge yet - racing against the mysterious and ruthless 
                        Juliette, who has taken over the racing circuit with her advanced tactics and cunning strategies. Stewart must 
                        master new tracks and discover hidden racing techniques to reclaim his title and protect the racing community from Juliette's schemes. 
                        <strong>An epic adventure of rivalry, determination, and triumph.</strong></p>
                    </div>
                    <div class="story-races">
                        <div class="story-race" data-race="1">
                            <h3>Race 1: The Return</h3>
                            <p>Stewart returns to find the racing circuit under Juliette's control. Time to reclaim what's rightfully his.</p>
                            <button class="story-race-button">START RACE</button>
                        </div>
                        <div class="story-race locked" data-race="2">
                            <h3>Race 2: Juliette's Challenge</h3>
                            <p>The mysterious antagonist reveals herself and challenges Stewart to a direct confrontation...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>
                        <div class="story-race locked" data-race="3">
                            <h3>Race 3: Underground Circuits</h3>
                            <p>Stewart discovers Juliette's secret underground racing network and must infiltrate it...</p>
                            <button class="story-race-button">LOCKED</button>
                        </div>

                    </div>
                    <button id="backToTitleFromStory" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Settings Screen -->
            <div id="settingsScreen" class="screen">
                <div class="settings-content">
                    <h1 class="racing-title">‚öôÔ∏è Settings</h1>
                    <h2 class="story-subtitle">Game Configuration</h2>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label for="aiDifficultySelect">ü§ñ AI Difficulty:</label>
                            <select id="aiDifficultySelect">
                                <option value="easy">Easy</option>
                                <option value="normal" selected>Normal</option>
                                <option value="hard">Hard</option>
                                <option value="expert">Expert</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="windowScaleSelect">üì∫ Window Scale:</label>
                            <select id="windowScaleSelect">
                                <option value="auto" selected>Auto Fit</option>
                                <option value="small">75% Scale</option>
                                <option value="normal">100% Scale</option>
                                <option value="large">125% Scale</option>
                                <option value="fullscreen">Fullscreen</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="uiScaleSelect">üéÆ UI Scale:</label>
                            <select id="uiScaleSelect">
                                <option value="small">Small</option>
                                <option value="normal" selected>Normal</option>
                                <option value="large">Large</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="soundToggle">üîä Sound Effects:</label>
                            <input type="checkbox" id="soundToggle" checked>
                        </div>
                        <div class="setting-item">
                            <label for="showPerformanceToggle">üìä Show Performance:</label>
                            <input type="checkbox" id="showPerformanceToggle">
                        </div>
                    </div>
                    <button id="backToTitleFromSettings" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Kart Customization Screen -->
            <div id="kartCustomizationScreen" class="screen">
                <div class="customization-content">
                    <h1 class="racing-title">Kart Customization</h1>
                    <h2 class="story-subtitle">Choose Your Racing Style</h2>
                    <div class="customization-intro">
                        <p>Select a custom kart design that reflects your personality! 
                        Each design is purely cosmetic but adds unique visual flair to your racing experience.</p>
                    </div>
                    <div class="kart-designs">
                        <div class="kart-design selected" data-design="classic">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Classic Racer</h3>
                            <p>The traditional racing kart design</p>
                            <button class="design-button">SELECTED</button>
                        </div>
                        <div class="kart-design" data-design="furry">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Furry Friend</h3>
                            <p>Cute kart with ears, tail, and adorable features</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="anime">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Kawaii Racer</h3>
                            <p>Anime-inspired design with big eyes and heart decorations</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="cyberpunk">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Cyber Runner</h3>
                            <p>Futuristic design with neon effects and circuit patterns</p>
                            <button class="design-button">SELECT</button>
                        </div>
                        <div class="kart-design" data-design="magical">
                            <div class="kart-preview">
                                <canvas class="kart-canvas" width="80" height="50"></canvas>
                            </div>
                            <h3>Magic Kart</h3>
                            <p>Mystical design with sparkles and magical runes</p>
                            <button class="design-button">SELECT</button>
                        </div>
                    </div>
                    <button id="backToTitleFromCustomization" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Story Dialog Screen -->
            <div id="storyDialog" class="dialog hidden">
                <div class="dialog-content story-dialog-content">
                    <h2 id="storyDialogTitle">Race Story</h2>
                    <div id="storyDialogText">
                        <p>Story content will appear here...</p>
                    </div>
                    <button id="continueStory" class="racing-button">CONTINUE</button>
                    <button id="skipStory" class="racing-button secondary">SKIP</button>
                </div>
            </div>
            
            <!-- Track Selection Screen -->
            <div id="trackSelection" class="screen">
                <div class="track-selection-content">
                    <h1 class="racing-title">Choose Your Track</h1>
                    <div class="track-grid">
                        <div class="track-option" data-track="classic">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Classic Oval</h3>
                            <p>Traditional racing circuit with smooth curves</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="figure8">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Figure-8 Chaos</h3>
                            <p>Challenging intersecting loops with excitement</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="mountain">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Mountain Circuit</h3>
                            <p>Winding mountain path with tight hairpins</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="city">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>City Streets</h3>
                            <p>Urban racing through downtown blocks</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="desert">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Desert Dunes</h3>
                            <p>Sandy curves through scorching desert terrain</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="forest">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Forest Trail</h3>
                            <p>Winding path through dense woodland</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="speedway">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Speed Speedway</h3>
                            <p>High-speed oval with banked turns</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                        <div class="track-option" data-track="twisted">
                            <div class="track-preview">
                                <canvas class="track-canvas" width="200" height="140"></canvas>
                            </div>
                            <h3>Twisted Circuit</h3>
                            <p>Complex track with multiple loops and turns</p>
                            <button class="track-button">RACE HERE!</button>
                        </div>
                    </div>
                    <div class="lore-section">
                        <h3>üèÅ Stewart's Racing Legend - Season 2</h3>
                        <p>After dominating Season 1, champion racer Stewart faces his greatest challenge yet. 
                        The mysterious Juliette has emerged as a formidable antagonist, using cunning tactics and 
                        advanced racing techniques to take control of the racing circuit. Stewart must master new 
                        skills and forge new alliances to reclaim his title and protect the racing community from 
                        Juliette's schemes. The stage is set for an epic showdown!</p>
                    </div>
                    <button id="backToTitle" class="racing-button secondary">‚Üê BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Game Screen -->
            <div id="gameScreen" class="screen">
                <!-- Racing HUD -->
                <div id="racingHUD">
                    <div id="positionDisplay">
                        <span class="hud-label">POSITION:</span>
                        <span id="currentPosition" class="position-large">1</span>
                        <span class="position-total">/8</span>
                    </div>
                    <div id="lapDisplay">
                        <span class="hud-label">LAP:</span>
                        <span id="currentLap">1</span> / <span id="totalLaps">3</span>
                    </div>
                    <div id="speedDisplay">
                        <span class="hud-label">SPEED:</span>
                        <span id="currentSpeed">0</span> <span class="speed-unit">mph</span>
                    </div>
                    <div id="powerUpDisplay">
                        <span class="hud-label">POWER-UP:</span>
                        <div id="powerUpIcon" class="powerup-empty">NONE</div>
                    </div>
                </div>

                <!-- Lap Notification -->
                <div id="lapNotification" class="lap-notification hidden">
                    <div class="lap-notification-content">
                        <h3 id="lapNotificationTitle">LAP COMPLETED!</h3>
                        <p id="lapNotificationTime">Lap Time: 1:23.45</p>
                    </div>
                </div>

                <!-- Minimap -->
                <div id="minimap">
                    <canvas id="minimapCanvas" width="150" height="150"></canvas>
                </div>
                
                <!-- Race Complete Dialog -->
                <div id="raceComplete" class="dialog hidden">
                    <div class="dialog-content">
                        <h2 id="raceResultTitle">Race Complete!</h2>
                        <p id="raceResultText">Congratulations on finishing the race!</p>
                        <div id="finalStats">
                            <p>Final Position: <span id="finalPosition">1st</span></p>
                            <p>Best Lap Time: <span id="bestLapTime">1:23.45</span></p>
                        </div>
                        <button id="restartRace" class="racing-button">Race Again</button>
                        <button id="backToMenu" class="racing-button">Back to Menu</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Audio -->
    <audio id="engineSound" preload="auto" loop>
        <source src="audio/engine.mp3" type="audio/mpeg">
    </audio>
    <audio id="powerUpSound" preload="auto">
        <source src="audio/powerup.mp3" type="audio/mpeg">
    </audio>
    <audio id="collisionSound" preload="auto">
        <source src="audio/collision.mp3" type="audio/mpeg">
    </audio>
    <audio id="driftSound" preload="auto">
        <source src="audio/drift.mp3" type="audio/mpeg">
    </audio>
    <audio id="lightningSound" preload="auto">
        <source src="audio/lightning.mp3" type="audio/mpeg">
    </audio>
    
    <script src="game.js"></script>
</body>
</html>