<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echoes of the Forgotten Code</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="1200" height="800"></canvas>
        
        <!-- UI Overlays -->
        <div id="ui">
            <div id="titleScreen" class="screen active">
                <div class="title-content">
                    <h1 class="glitch-text">ECHOES</h1>
                    <h2 class="subtitle">OF THE FORGOTTEN CODE</h2>
                    <p class="story-intro">You are a fragment of consciousness<br>
                    Lost in the ruins of a digital civilization<br>
                    Piece together the memories... uncover the truth</p>
                    <div class="title-buttons">
                        <button id="startGame" class="cyber-button">INITIALIZE</button>
                        <button id="showHelp" class="cyber-button secondary">HOW TO PLAY</button>
                    </div>
                </div>
            </div>
            
            <!-- Help Screen -->
            <div id="helpScreen" class="screen">
                <div class="help-content">
                    <h1 class="glitch-text">HOW TO PLAY</h1>
                    <div class="help-sections">
                        <div class="help-section">
                            <h3>üéØ OBJECTIVE</h3>
                            <p>Navigate the digital landscape to discover data nodes and piece together the mystery of the vanished AI civilization.</p>
                        </div>
                        
                        <div class="help-section">
                            <h3>üïπÔ∏è CONTROLS</h3>
                            <p><strong>WASD</strong> or <strong>Arrow Keys</strong>: Move your consciousness fragment</p>
                            <p><strong>SPACE</strong>: Interact with nearby data nodes</p>
                            <p><strong>ESC</strong>: Show/hide this help screen</p>
                            <p><strong>TAB</strong>: Toggle interface modes (when available)</p>
                        </div>
                        
                        <div class="help-section">
                            <h3>üîç GAME ELEMENTS</h3>
                            <p><strong>üü¶ Blue Nodes (M)</strong>: Memory fragments - solve puzzles to unlock memories</p>
                            <p><strong>üü° Orange Nodes (C)</strong>: Code fragments - interpret ancient algorithms</p>
                            <p><strong>üü™ Purple Nodes (L)</strong>: Logic gateways - hack through security protocols</p>
                            <p><strong>üü¢ Green Nodes (E)</strong>: Ethical subroutines - make moral choices that affect the world</p>
                            <p><strong>üü• Red Areas</strong>: Corrupted zones - drain your integrity if you stay too long</p>
                        </div>
                        
                        <div class="help-section">
                            <h3>üìä HUD ELEMENTS</h3>
                            <p><strong>Memory Fragments</strong>: Count of recovered memories</p>
                            <p><strong>Code Integrity</strong>: Your digital stability (don't let it reach zero!)</p>
                            <p><strong>Objective</strong>: Your current goal</p>
                        </div>
                        
                        <div class="help-section">
                            <h3>üí° TIPS</h3>
                            <p>‚Ä¢ Move close to data nodes and press SPACE to interact</p>
                            <p>‚Ä¢ Different nodes unlock as you progress through the story</p>
                            <p>‚Ä¢ Your choices in ethical dilemmas affect the game world</p>
                            <p>‚Ä¢ Avoid staying in corrupted areas too long</p>
                            <p>‚Ä¢ Piece together code fragments to unlock new abilities</p>
                        </div>
                    </div>
                    <div class="help-buttons">
                        <button id="startFromHelp" class="cyber-button">START GAME</button>
                        <button id="backToTitle" class="cyber-button secondary">BACK TO TITLE</button>
                    </div>
                </div>
            </div>
            
            <div id="gameScreen" class="screen">
                <div id="hud">
                    <div id="memoryFragments">
                        <span class="hud-label">MEMORY FRAGMENTS:</span>
                        <span id="fragmentCount">0</span>
                    </div>
                    <div id="codeIntegrity">
                        <span class="hud-label">CODE INTEGRITY:</span>
                        <div id="integrityBar">
                            <div id="integrityFill"></div>
                        </div>
                    </div>
                    <div id="currentObjective">
                        <span class="hud-label">OBJECTIVE:</span>
                        <span id="objectiveText">Navigate to the first memory core</span>
                    </div>
                    <div id="helpHint">
                        <span class="hud-label">HELP:</span>
                        <span class="help-text">Press ESC for controls and game info</span>
                    </div>
                </div>
                
                <!-- Memory Reconstruction Interface -->
                <div id="memoryInterface" class="interface hidden">
                    <div class="interface-header">
                        <h3>MEMORY RECONSTRUCTION</h3>
                        <button class="close-btn" onclick="closeInterface('memoryInterface')">&times;</button>
                    </div>
                    <div id="memoryGrid" class="memory-grid"></div>
                    <button id="reconstructMemory" class="cyber-button">RECONSTRUCT</button>
                </div>
                
                <!-- Hacking Interface -->
                <div id="hackingInterface" class="interface hidden">
                    <div class="interface-header">
                        <h3>LOGIC GATEWAY</h3>
                        <button class="close-btn" onclick="closeInterface('hackingInterface')">&times;</button>
                    </div>
                    <div id="logicPuzzle" class="logic-puzzle"></div>
                    <button id="executeHack" class="cyber-button">EXECUTE</button>
                </div>
                
                <!-- Choice Interface -->
                <div id="choiceInterface" class="interface hidden">
                    <div class="interface-header">
                        <h3>ETHICAL SUBROUTINE</h3>
                    </div>
                    <div id="choiceText" class="choice-text"></div>
                    <div id="choiceButtons" class="choice-buttons"></div>
                </div>
                
                <!-- Code Fragment Interface -->
                <div id="codeInterface" class="interface hidden">
                    <div class="interface-header">
                        <h3>CODE FRAGMENT</h3>
                        <button class="close-btn" onclick="closeInterface('codeInterface')">&times;</button>
                    </div>
                    <div id="codeEditor" class="code-editor">
                        <textarea id="codeText" placeholder="// Ancient code fragment found..."></textarea>
                    </div>
                    <button id="interpretCode" class="cyber-button">INTERPRET</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Audio -->
    <audio id="ambientSound" loop>
        <source src="audio/ambient.mp3" type="audio/mpeg">
    </audio>
    
    <script src="game.js"></script>
</body>
</html>